<!DOCTYPE html>
<html lang="en"><head>
<script src="entrega-grupal-Amalia-Carlos_files/libs/clipboard/clipboard.min.js"></script>
<script src="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/tabby.min.js"></script>
<script src="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/popper.min.js"></script>
<script src="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="entrega-grupal-Amalia-Carlos_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Carlos Murillas y Amalia Lobo">
  <title>Trabajo Grupal</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/dist/theme/quarto.css">
  <link href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Trabajo Grupal</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Carlos Murillas y Amalia Lobo 
</div>
</div>
</div>

</section>
<section id="importamos-archivos" class="title-slide slide level1 center">
<h1>Importamos archivos</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>datos_elecciones <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/datos_elecciones_brutos.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>cod_mun <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/cod_mun.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>encuestas <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/historical_surveys.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>siglas <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/siglas.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section>
<section id="tidydata" class="title-slide slide level1 center">
<h1>Tidydata</h1>

</section>
<section id="datos-electorales" class="slide level2">
<h2>Datos Electorales</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>datos_elecciones_tidy<span class="ot">&lt;-</span>datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span><span class="sc">-</span>(<span class="st">"tipo_eleccion"</span><span class="sc">:</span><span class="st">"votos_candidaturas"</span>), </span>
<span id="cb2-5"><a href="#cb2-5"></a>               <span class="at">names_to =</span> <span class="st">"partido"</span>, <span class="at">values_to=</span><span class="st">"voto"</span>, <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="fu">mutate</span>(<span class="at">fecha =</span> <span class="fu">ymd</span>(<span class="fu">glue</span>(<span class="st">"{anno}{mes}01"</span>)),</span>
<span id="cb2-7"><a href="#cb2-7"></a>         <span class="at">id_mun =</span> <span class="fu">glue</span>(<span class="st">"{codigo_ccaa}-{codigo_provincia}-{codigo_municipio}"</span>))</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a></span>
<span id="cb2-11"><a href="#cb2-11"></a>datos_elecciones_tidy<span class="ot">&lt;-</span>datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">select</span> (<span class="sc">-</span><span class="st">"tipo_eleccion"</span>,<span class="sc">-</span><span class="st">"vuelta"</span>, <span class="sc">-</span><span class="st">"codigo_distrito_electoral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="siglas" class="slide level2">
<h2>Siglas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>datos_elecciones_tidy <span class="ot">&lt;-</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">mutate</span>(<span class="at">siglas =</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>           <span class="fu">case_when</span>(<span class="fu">str_detect</span>(partido, <span class="st">"PARTIDO SOCIALISTA OBRERO|PARTIT DELS SOCIALISTES DE CATALUNYA|PARTIDO DOS SOCIALISTAS DE GALICIA"</span>) <span class="sc">~</span> <span class="st">"PSOE"</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"PARTIDO POPULAR"</span>) <span class="sc">~</span> <span class="st">"PP"</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"CIUDADANOS|CIUTADANS"</span>) <span class="sc">~</span> <span class="st">"CS"</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"PODEMOS|UNIDAS PODEMOS|UNIDOS PODEMOS|EN COMÚ PODEM|IZQUIERDA UNIDA-ALTERNATIVA"</span>) <span class="sc">~</span> <span class="st">"UP"</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"BLOQUE NACIONALISTA GALEGO"</span>) <span class="sc">~</span> <span class="st">"BNG"</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"VOX"</span>) <span class="sc">~</span> <span class="st">"VOX"</span>,</span>
<span id="cb3-10"><a href="#cb3-10"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"COMPROMIS|COMPROMÍS: BLOC-INICIATIVA-VERDSEQUO|BLOC-INICIATIVA-VERDS-EQUO-COALICIÓ COMPROMÍS"</span>) <span class="sc">~</span> <span class="st">"COMPROMIS"</span>,</span>
<span id="cb3-11"><a href="#cb3-11"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"CONVERGÈNCIA I UNIÓ"</span>) <span class="sc">~</span> <span class="st">"CIU"</span>,</span>
<span id="cb3-12"><a href="#cb3-12"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"ESQUERRA REPUBLICANA DE CATALUNYA"</span>) <span class="sc">~</span> <span class="st">"ERC"</span>,</span>
<span id="cb3-13"><a href="#cb3-13"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"PARTIDO NACIONALISTA VASCO"</span>) <span class="sc">~</span> <span class="st">"PNV"</span>,</span>
<span id="cb3-14"><a href="#cb3-14"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"EUSKAL HERRIA BILDU"</span>) <span class="sc">~</span> <span class="st">"EH-BILDU"</span>,</span>
<span id="cb3-15"><a href="#cb3-15"></a>                     <span class="fu">str_detect</span>(partido, <span class="st">"MÁS PAÍS"</span>) <span class="sc">~</span> <span class="st">"MPAIS"</span>,</span>
<span id="cb3-16"><a href="#cb3-16"></a>                     <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"OTROS"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="encuestas" class="slide level2">
<h2>Encuestas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>encuestas<span class="ot">&lt;-</span>encuestas <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2"></a>   <span class="fu">mutate</span>(<span class="at">field_work=</span>field_date_to<span class="sc">-</span>field_date_from, <span class="at">.before =</span> date_elec)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>encuestas<span class="ot">&lt;-</span>encuestas <span class="sc">|&gt;</span> <span class="fu">filter</span>(date_elec<span class="sc">&gt;</span><span class="st">'2018-01-01'</span>, size<span class="sc">&gt;</span><span class="dv">750</span>,field_work<span class="sc">&gt;</span><span class="dv">1</span>, exit_poll<span class="sc">==</span>F) <span class="sc">|&gt;</span> </span>
<span id="cb4-6"><a href="#cb4-6"></a>   <span class="fu">select</span>(<span class="sc">-</span><span class="st">"type_survey"</span>, <span class="sc">-</span><span class="st">"field_date_to"</span>, <span class="sc">-</span><span class="st">"field_date_from"</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a>encuestas_tidy<span class="ot">&lt;-</span>encuestas <span class="sc">|&gt;</span>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span><span class="sc">-</span>(<span class="st">"field_work"</span><span class="sc">:</span><span class="st">"turnout"</span>), </span>
<span id="cb4-9"><a href="#cb4-9"></a>               <span class="at">names_to =</span> <span class="st">"partido"</span>, <span class="at">values_to=</span><span class="st">"estimado"</span>, <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="colores-partidos" class="slide level2">
<h2>Colores Partidos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>colores_partidos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"VOX"</span> <span class="ot">=</span> <span class="st">"green"</span>, <span class="st">"PP"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"PSOE"</span> <span class="ot">=</span> <span class="st">"red"</span>, <span class="st">"UP"</span> <span class="ot">=</span> <span class="st">"purple"</span>, </span>
<span id="cb5-2"><a href="#cb5-2"></a>                      <span class="st">"EH-BILDU"</span> <span class="ot">=</span> <span class="st">"lightgreen"</span>, <span class="st">"PNV"</span> <span class="ot">=</span> <span class="st">"darkgreen"</span>, <span class="st">"CS"</span> <span class="ot">=</span> <span class="st">"darkorange"</span>, </span>
<span id="cb5-3"><a href="#cb5-3"></a>                      <span class="st">"COMPROMIS"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"MPAIS"</span> <span class="ot">=</span> <span class="st">"pink"</span>, <span class="st">"ERC"</span><span class="ot">=</span><span class="st">"yellow"</span>,<span class="st">"BNG"</span><span class="ot">=</span><span class="st">"lightblue"</span>, <span class="st">"CIU"</span><span class="ot">=</span><span class="st">'darkblue'</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># Función para aplicar el tema a las gráficas</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>tema_partidos <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colores_partidos) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> colores_partidos)</span>
<span id="cb5-10"><a href="#cb5-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section id="preguntas" class="title-slide slide level1 center">
<h1>Preguntas</h1>

</section>

<section>
<section id="cómo-se-reparte-el-voto-de-partidos-de-ámbito-nacional-psoe-pp-vox-cs-mp-up---iu-frente-a-los-partidos-de-corte-autonómico-o-nacionalista" class="title-slide slide level1 center">
<h1>¿Cómo se reparte el voto de partidos de ámbito nacional (PSOE, PP, VOX, CS, MP, UP - IU) frente a los partidos de corte autonómico o nacionalista?</h1>

</section>
<section id="sacamos-el-porcentaje-para-cada-grupo" class="slide level2">
<h2>Sacamos el Porcentaje para cada grupo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>votos_ambito <span class="ot">&lt;-</span> </span>
<span id="cb6-2"><a href="#cb6-2"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">mutate</span>(<span class="at">Ambito =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-4"><a href="#cb6-4"></a>    siglas <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PSOE"</span>, <span class="st">"PP"</span>, <span class="st">"VOX"</span>, <span class="st">"CS"</span>, <span class="st">"MPAIS"</span>, <span class="st">"UP"</span>) <span class="sc">~</span> <span class="st">"Nacional"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Autonomico"</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  ))</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>votos_totales_partidos <span class="ot">&lt;-</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  votos_ambito <span class="sc">|&gt;</span> </span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">group_by</span>(partido, Ambito) <span class="sc">|&gt;</span> </span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">summarise</span>(<span class="at">votos_totales=</span><span class="fu">sum</span>(voto))</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a>votos_grupo <span class="ot">&lt;-</span></span>
<span id="cb6-14"><a href="#cb6-14"></a>  votos_totales_partidos <span class="sc">|&gt;</span> </span>
<span id="cb6-15"><a href="#cb6-15"></a>  <span class="fu">group_by</span>(Ambito) <span class="sc">|&gt;</span> </span>
<span id="cb6-16"><a href="#cb6-16"></a>  <span class="fu">summarise</span>(<span class="at">general =</span> <span class="fu">sum</span>(votos_totales))</span>
<span id="cb6-17"><a href="#cb6-17"></a></span>
<span id="cb6-18"><a href="#cb6-18"></a>porcentaje_grupo <span class="ot">&lt;-</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>  votos_grupo <span class="sc">|&gt;</span> </span>
<span id="cb6-20"><a href="#cb6-20"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> general <span class="sc">/</span> <span class="fu">sum</span>(general) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="porcentaje-por-grupo" class="slide level2">
<h2>Porcentaje por grupo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>porcentaje_grupo <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Ambito, <span class="at">y =</span> porcentaje, <span class="at">fill =</span> Ambito)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">geom_col</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">80</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Autonomico"</span> <span class="ot">=</span> <span class="st">"#0f0c73"</span>, <span class="st">"Nacional"</span> <span class="ot">=</span> <span class="st">"#ff0000"</span>)) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Ambito"</span>,</span>
<span id="cb7-8"><a href="#cb7-8"></a>       <span class="at">y =</span> <span class="st">"Porcentaje (%)"</span>,</span>
<span id="cb7-9"><a href="#cb7-9"></a>       <span class="at">title =</span> <span class="st">"Votos según el ámbito"</span>,</span>
<span id="cb7-10"><a href="#cb7-10"></a>       <span class="at">subtitle =</span> <span class="st">"Autonómico y Nacional"</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())<span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="fu">theme_update</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>porcentaje_grupo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  Ambito       general porcentaje
  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt;
1 Autonomico  24729268       16.8
2 Nacional   122647804       83.2</code></pre>
</div>
</div>
</section><section id="porcentaje-por-grupo-output" class="slide level2 output-location-slide"><h2>Porcentaje por grupo</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></p>
</div>
</div></section></section>
<section>
<section id="cuál-es-el-partido-ganador-en-los-municipios-de-más-de-100-000-habitantes-de-censo-en-cada-una-de-las-elecciones" class="title-slide slide level1 center">
<h1>¿Cuál es el partido ganador en los municipios de más de 100 000 habitantes de censo en cada una de las elecciones?</h1>

</section>
<section id="partido-ganador" class="slide level2">
<h2>Partido ganador</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a> datos_elecciones_tidy <span class="sc">|&gt;</span> <span class="fu">group_by</span>(fecha, id_mun) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2"></a>   <span class="fu">filter</span>(censo<span class="sc">&gt;</span><span class="dv">100000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3"></a>   <span class="fu">slice_max</span>(voto, <span class="at">n=</span><span class="dv">1</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4"></a>   <span class="fu">select</span>(fecha, id_mun, siglas, voto, censo) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5"></a>   <span class="fu">arrange</span>(<span class="fu">desc</span>(censo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 282 × 5
# Groups:   fecha, id_mun [282]
   fecha      id_mun    siglas   voto   censo
   &lt;date&gt;     &lt;glue&gt;    &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 2019-11-01 12-28-079 PP     479448 2384269
 2 2019-04-01 12-28-079 PSOE   502909 2374370
 3 2015-12-01 12-28-079 PP     646348 2371327
 4 2016-06-01 12-28-079 PP     696804 2363829
 5 2011-11-01 12-28-079 PP     880723 2290453
 6 2008-03-01 12-28-079 PP     919701 2262681
 7 2008-03-01 09-08-019 PSOE   356264 1157357
 8 2011-11-01 09-08-019 CIU    212399 1143219
 9 2015-12-01 09-08-019 UP     218053 1141245
10 2016-06-01 09-08-019 UP     196341 1136354
# ℹ 272 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="qué-partido-fue-el-segundo-cuando-el-primero-fue-el-psoe-y-cuándo-el-primero-fue-el-pp" class="title-slide slide level1 center">
<h1>¿Qué partido fue el segundo cuando el primero fue el PSOE? ¿Y cuándo el primero fue el PP?</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>votos_por_eleccion <span class="ot">&lt;-</span> datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">group_by</span>(fecha, siglas) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">summarize</span>(<span class="at">total_votos =</span> <span class="fu">sum</span>(voto, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span>  </span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">arrange</span>(fecha, <span class="fu">desc</span>(total_votos))</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a>PrimeroYSegundo<span class="ot">&lt;-</span>votos_por_eleccion  <span class="sc">|&gt;</span> <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> total_votos, <span class="at">n =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a>PrimeroYSegundo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   fecha      siglas total_votos
   &lt;date&gt;     &lt;chr&gt;        &lt;dbl&gt;
 1 2008-03-01 PSOE      10646064
 2 2008-03-01 PP        10171828
 3 2011-11-01 PP        10838951
 4 2011-11-01 PSOE       6721343
 5 2015-12-01 PP         7114123
 6 2015-12-01 PSOE       5368954
 7 2016-06-01 PP         7800328
 8 2016-06-01 PSOE       5260522
 9 2019-04-01 PSOE       7092503
10 2019-04-01 PP         4356714
11 2019-11-01 PSOE       6526364
12 2019-11-01 PP         5021622</code></pre>
</div>
</div>
</section>
<section id="funcion" class="slide level2">
<h2>FUNCION</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>FunPrimeroYSegundo <span class="ot">&lt;-</span> <span class="cf">function</span>(partido_ganador) {</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a>    partidos_ganadores_por_año <span class="ot">&lt;-</span> votos_por_eleccion <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(total_votos)) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb14-8"><a href="#cb14-8"></a></span>
<span id="cb14-9"><a href="#cb14-9"></a>    años_ganados_por_partido <span class="ot">&lt;-</span> partidos_ganadores_por_año <span class="sc">|&gt;</span> </span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="fu">filter</span>(siglas <span class="sc">==</span> partido_ganador) <span class="sc">|&gt;</span> </span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="fu">pull</span>(fecha)</span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a>    segundo_lugar_por_año <span class="ot">&lt;-</span> votos_por_eleccion <span class="sc">|&gt;</span> </span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="fu">filter</span>(fecha <span class="sc">%in%</span> años_ganados_por_partido) <span class="sc">|&gt;</span> </span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(total_votos)) <span class="sc">|&gt;</span> </span>
<span id="cb14-17"><a href="#cb14-17"></a>    <span class="fu">slice</span>(<span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-18"><a href="#cb14-18"></a>    <span class="fu">select</span>(fecha, <span class="at">segundo =</span> siglas) <span class="sc">|&gt;</span> </span>
<span id="cb14-19"><a href="#cb14-19"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb14-20"><a href="#cb14-20"></a></span>
<span id="cb14-21"><a href="#cb14-21"></a>    <span class="fu">return</span>(segundo_lugar_por_año)</span>
<span id="cb14-22"><a href="#cb14-22"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="output-funcion" class="slide level2">
<h2>Output Funcion</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">FunPrimeroYSegundo</span>(<span class="st">"PSOE"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a>resultado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  fecha      segundo
  &lt;date&gt;     &lt;chr&gt;  
1 2008-03-01 PP     
2 2019-04-01 PP     
3 2019-11-01 PP     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">FunPrimeroYSegundo</span>(<span class="st">"PP"</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a>resultado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  fecha      segundo
  &lt;date&gt;     &lt;chr&gt;  
1 2011-11-01 PSOE   
2 2015-12-01 PSOE   
3 2016-06-01 PSOE   </code></pre>
</div>
</div>
</section></section>
<section>
<section id="en-qué-municipios-de-más-2000-habitantes-de-censo-provincias-o-autonomías-la-diferencia-entre-el-ganador-y-el-segundo-es-más-elevada" class="title-slide slide level1 center">
<h1>¿En qué municipios de más 2000 habitantes de censo, provincias o autonomías la diferencia entre el ganador y el segundo es más elevada?</h1>

</section>
<section id="diferencias" class="slide level2">
<h2>Diferencias</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>join_2000 <span class="ot">&lt;-</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_mun"</span> <span class="ot">=</span> <span class="st">"cod_mun"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">filter</span>(censo <span class="sc">&gt;</span> <span class="dv">2000</span>)</span>
<span id="cb19-5"><a href="#cb19-5"></a></span>
<span id="cb19-6"><a href="#cb19-6"></a>ganadores <span class="ot">&lt;-</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>  join_2000 <span class="sc">|&gt;</span> </span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="fu">group_by</span>(codigo_ccaa, codigo_provincia, codigo_municipio, municipio, anno) <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="fu">summarize</span>(<span class="at">diferencia =</span> <span class="fu">max</span>(voto) <span class="sc">-</span> <span class="fu">max</span>(voto[voto <span class="sc">!=</span> <span class="fu">max</span>(voto)]))</span>
<span id="cb19-10"><a href="#cb19-10"></a>  </span>
<span id="cb19-11"><a href="#cb19-11"></a>diferencias <span class="ot">&lt;-</span> </span>
<span id="cb19-12"><a href="#cb19-12"></a>  ganadores <span class="sc">|&gt;</span> </span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb19-14"><a href="#cb19-14"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diferencias-1" class="slide level2">
<h2>Diferencias</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>diferencias</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,965 × 6
# Groups:   codigo_ccaa, codigo_provincia, codigo_municipio, municipio [2,001]
   codigo_ccaa codigo_provincia codigo_municipio municipio       anno diferencia
   &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt;
 1 01          04               003              Adra            2011       4471
 2 01          04               003              Adra            2008       3371
 3 01          04               006              Albox           2011        999
 4 01          04               006              Albox           2016        664
 5 01          04               011              Alhama de Alm…  2008        630
 6 01          04               011              Alhama de Alm…  2015        284
 7 01          04               013              Almería         2011      26950
 8 01          04               013              Almería         2016      16107
 9 01          04               016              Antas           2011        496
10 01          04               016              Antas           2008        436
# ℹ 3,955 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="cuáles-son-los-municipios-con-mayor-porcentaje-de-votos-nulos-de-españa" class="title-slide slide level1 center">
<h1>¿Cuáles son los municipios con mayor porcentaje de votos nulos de España?</h1>

</section>
<section id="porcentaje-de-votos-nulos" class="slide level2">
<h2>Porcentaje de votos nulos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>join <span class="ot">&lt;-</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_mun"</span> <span class="ot">=</span> <span class="st">"cod_mun"</span>))</span>
<span id="cb22-4"><a href="#cb22-4"></a>join</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 396,735 × 18
    anno mes   codigo_ccaa codigo_provincia codigo_municipio numero_mesas censo
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;
 1  2008 03    14          01               001                         2  1838
 2  2008 03    14          01               001                         2  1838
 3  2008 03    14          01               001                         2  1838
 4  2008 03    14          01               001                         2  1838
 5  2008 03    14          01               001                         2  1838
 6  2008 03    14          01               001                         2  1838
 7  2008 03    14          01               001                         2  1838
 8  2008 03    14          01               001                         2  1838
 9  2008 03    14          01               001                         2  1838
10  2008 03    14          01               001                         2  1838
# ℹ 396,725 more rows
# ℹ 11 more variables: participacion_1 &lt;dbl&gt;, participacion_2 &lt;dbl&gt;,
#   votos_blancos &lt;dbl&gt;, votos_nulos &lt;dbl&gt;, votos_candidaturas &lt;dbl&gt;,
#   partido &lt;chr&gt;, voto &lt;dbl&gt;, fecha &lt;date&gt;, id_mun &lt;glue&gt;, siglas &lt;chr&gt;,
#   municipio &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="porcentaje-de-votos-nulos-1" class="slide level2">
<h2>Porcentaje de votos nulos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>porcentaje_nulos <span class="ot">&lt;-</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>  join <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">group_by</span>(municipio) <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">summarise</span>(<span class="at">nulos =</span> <span class="fu">sum</span>(votos_nulos)<span class="sc">/</span><span class="fu">sum</span>(votos_blancos<span class="sc">+</span> votos_candidaturas <span class="sc">+</span> votos_nulos)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(nulos))</span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a>porcentaje_nulos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,118 × 2
   municipio             nulos
   &lt;chr&gt;                 &lt;dbl&gt;
 1 Reinoso               10.6 
 2 Fresneda de la Sierra  8.27
 3 Encinas                7.75
 4 Villodre               7.61
 5 Arraya de Oca          7.00
 6 Valdevacas de Montejo  6.94
 7 Cerbón                 6.44
 8 Villasdardo            6.43
 9 Velilla de los Ajos    6.20
10 Pomer                  5.75
# ℹ 8,108 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="en-qué-sitios-hay-mayor-participación-quién-ganó-en-los-sitios-con-mayor-participación-y-donde-menos-a-quién-le-beneficia-la-baja-participación" class="title-slide slide level1 center">
<h1>¿En qué sitios hay mayor participación? ¿Quién ganó en los sitios con mayor participación y donde menos? ¿A quién le beneficia la baja participación?</h1>

</section>
<section id="section-1" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>datos_elecciones <span class="ot">&lt;-</span> datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">mutate</span>(<span class="at">participacion_total =</span> votos_blancos <span class="sc">+</span> votos_candidaturas <span class="sc">+</span> votos_nulos,</span>
<span id="cb26-3"><a href="#cb26-3"></a>         <span class="at">tasa_participacion =</span> participacion_total <span class="sc">/</span> censo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># Calcular la participación media por municipio</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>participacion_por_municipio <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">group_by</span>(id_mun) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">summarize</span>(<span class="at">tasa_participacion_media =</span> <span class="fu">mean</span>(tasa_participacion))</span>
<span id="cb27-5"><a href="#cb27-5"></a>participacion_por_municipio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,135 × 2
   id_mun    tasa_participacion_media
   &lt;glue&gt;                       &lt;dbl&gt;
 1 01-04-001                    0.765
 2 01-04-002                    0.749
 3 01-04-003                    0.676
 4 01-04-004                    0.781
 5 01-04-005                    0.806
 6 01-04-006                    0.690
 7 01-04-007                    0.745
 8 01-04-008                    0.821
 9 01-04-009                    0.768
10 01-04-010                    0.793
# ℹ 8,125 more rows</code></pre>
</div>
</div>
</section>
<section id="identificar-los-municipios-con-mayor-y-menor-participación" class="slide level2">
<h2>Identificar los municipios con mayor y menor participación</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>municipio_mayor_participacion <span class="ot">&lt;-</span> participacion_por_municipio <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(tasa_participacion_media)) <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb29-4"><a href="#cb29-4"></a></span>
<span id="cb29-5"><a href="#cb29-5"></a>municipio_mayor_participacion <span class="ot">&lt;-</span>municipio_mayor_participacion <span class="sc">|&gt;</span> <span class="fu">inner_join</span>(cod_mun,<span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_mun"</span> <span class="ot">=</span> <span class="st">"cod_mun"</span>))</span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a> </span>
<span id="cb29-8"><a href="#cb29-8"></a>municipio_menor_participacion <span class="ot">&lt;-</span> participacion_por_municipio <span class="sc">|&gt;</span> </span>
<span id="cb29-9"><a href="#cb29-9"></a>  <span class="fu">arrange</span>(tasa_participacion_media) <span class="sc">|&gt;</span> </span>
<span id="cb29-10"><a href="#cb29-10"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb29-11"><a href="#cb29-11"></a></span>
<span id="cb29-12"><a href="#cb29-12"></a>municipio_menor_participacion <span class="ot">&lt;-</span>municipio_menor_participacion <span class="sc">|&gt;</span> <span class="fu">inner_join</span>(cod_mun,<span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_mun"</span> <span class="ot">=</span> <span class="st">"cod_mun"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>municipio_mayor_participacion</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  id_mun    tasa_participacion_media municipio     
  &lt;glue&gt;                       &lt;dbl&gt; &lt;chr&gt;         
1 07-45-080                        1 Illán de Vacas</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>municipio_menor_participacion </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  id_mun    tasa_participacion_media municipio
  &lt;glue&gt;                       &lt;dbl&gt; &lt;chr&gt;    
1 13-31-024                    0.453 Arano    </code></pre>
</div>
</div>
</section>
<section id="encontrar-el-partido-ganador-en-los-municipios-seleccionados" class="slide level2">
<h2>Encontrar el partido ganador en los municipios seleccionados</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>ganador_max_part <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2"></a>  <span class="fu">filter</span>(id_mun <span class="sc">==</span> municipio_mayor_participacion<span class="sc">$</span>id_mun) <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="fu">group_by</span>(partido) <span class="sc">|&gt;</span> </span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">summarize</span>(<span class="at">total_votos =</span> <span class="fu">sum</span>(voto)) <span class="sc">|&gt;</span> </span>
<span id="cb34-5"><a href="#cb34-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_votos)) <span class="sc">|&gt;</span> </span>
<span id="cb34-6"><a href="#cb34-6"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb34-7"><a href="#cb34-7"></a></span>
<span id="cb34-8"><a href="#cb34-8"></a>ganador_min_part <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb34-9"><a href="#cb34-9"></a>  <span class="fu">filter</span>(id_mun <span class="sc">==</span> municipio_menor_participacion<span class="sc">$</span>id_mun) <span class="sc">|&gt;</span> </span>
<span id="cb34-10"><a href="#cb34-10"></a>  <span class="fu">group_by</span>(partido) <span class="sc">|&gt;</span> </span>
<span id="cb34-11"><a href="#cb34-11"></a>  <span class="fu">summarize</span>(<span class="at">total_votos =</span> <span class="fu">sum</span>(voto)) <span class="sc">|&gt;</span> </span>
<span id="cb34-12"><a href="#cb34-12"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_votos)) <span class="sc">|&gt;</span> </span>
<span id="cb34-13"><a href="#cb34-13"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="partidos-ganadores" class="slide level2">
<h2>Partidos Ganadores</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>ganador_max_part</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  partido         total_votos
  &lt;chr&gt;                 &lt;dbl&gt;
1 PARTIDO POPULAR          18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>ganador_min_part</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  partido             total_votos
  &lt;chr&gt;                     &lt;dbl&gt;
1 EUSKAL HERRIA BILDU         100</code></pre>
</div>
</div>
<h4 id="la-baja-participacion-favorece-a-los-partidos-pequeños-y-regionalistas">La baja participacion favorece a los partidos pequeños y regionalistas</h4>
</section></section>
<section>
<section id="cómo-analizar-la-relación-entre-censo-y-voto-es-cierto-que-ciertos-partidos-ganan-lo-rural" class="title-slide slide level1 center">
<h1>¿Cómo analizar la relación entre censo y voto? ¿Es cierto que ciertos partidos ganan lo rural?</h1>

</section>
<section id="cómo-analizar-la-relación-entre-censo-y-voto-es-cierto-que-ciertos-partidos-ganan-lo-rural-1" class="slide level2">
<h2>¿Cómo analizar la relación entre censo y voto? ¿Es cierto que ciertos partidos ganan lo rural?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co">#Primero determino los ganadores teniendo en cuenta los años y los municipios</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>mas_votado <span class="ot">&lt;-</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4"></a>  <span class="fu">group_by</span>(siglas, anno, id_mun) <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(voto)) <span class="sc">|&gt;</span> </span>
<span id="cb39-6"><a href="#cb39-6"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb39-7"><a href="#cb39-7"></a>  <span class="fu">select</span>(anno, censo, siglas, voto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h6 id="compruebo-como-de-grande-es-el-intervalo-del-censo-y-establezo-mi-propio-intervalo">Compruebo como de grande es el intervalo del censo y establezo mi propio intervalo</h6>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">ggplot</span>(mas_votado, <span class="fu">aes</span>(<span class="at">x =</span> censo, <span class="at">y =</span> voto, <span class="at">color =</span> siglas)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> colores_partidos) <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relacion entre el censo y el partido más votado"</span>,</span>
<span id="cb40-6"><a href="#cb40-6"></a>       <span class="at">x =</span> <span class="st">"Censo"</span>,</span>
<span id="cb40-7"><a href="#cb40-7"></a>       <span class="at">y =</span> <span class="st">"Votos"</span>) <span class="sc">+</span></span>
<span id="cb40-8"><a href="#cb40-8"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section><section id="cómo-analizar-la-relación-entre-censo-y-voto-es-cierto-que-ciertos-partidos-ganan-lo-rural-1-output" class="slide level2 output-location-slide"><h2>¿Cómo analizar la relación entre censo y voto? ¿Es cierto que ciertos partidos ganan lo rural?</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-24-1.png" width="960"></p>
</div>
</div></section></section>
<section>
<section id="cómo-calibrar-el-error-de-las-encuestas-cómo-visualizarlo-recuerda-que-las-encuestas-son-intención-de-voto-a-nivel-nacional" class="title-slide slide level1 center">
<h1>¿Cómo calibrar el error de las encuestas? ¿Cómo visualizarlo? (recuerda que las encuestas son intención de voto a nivel nacional)</h1>

</section>
<section id="preparamos-el-join" class="slide level2">
<h2>Preparamos el JOIN</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>encuestas_tidy <span class="ot">&lt;-</span>  encuestas_tidy <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">mutate</span>(<span class="at">partido =</span> <span class="fu">case_when</span>(</span>
<span id="cb41-3"><a href="#cb41-3"></a>    partido <span class="sc">==</span> <span class="st">"EAJ-PNV"</span> <span class="sc">~</span> <span class="st">"PNV"</span>,</span>
<span id="cb41-4"><a href="#cb41-4"></a>    partido <span class="sc">==</span> <span class="st">"IU"</span> <span class="sc">~</span> <span class="st">"UP"</span>,</span>
<span id="cb41-5"><a href="#cb41-5"></a>    partido <span class="sc">==</span> <span class="st">"MP"</span> <span class="sc">~</span> <span class="st">"MPAIS"</span>,</span>
<span id="cb41-6"><a href="#cb41-6"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> partido </span>
<span id="cb41-7"><a href="#cb41-7"></a>  ))</span>
<span id="cb41-8"><a href="#cb41-8"></a></span>
<span id="cb41-9"><a href="#cb41-9"></a>encuestas_Join<span class="ot">&lt;-</span>encuestas_tidy <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="st">'date_elec'</span>,<span class="st">'partido'</span>,<span class="st">'estimado'</span>,<span class="st">'media'</span>,<span class="st">"pollster"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co">#Poner los votos totales para el porcentaje</span></span>
<span id="cb42-2"><a href="#cb42-2"></a>votos_totales<span class="ot">&lt;-</span>votos_por_eleccion <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="fu">summarize</span>(<span class="at">total_year_votes =</span> <span class="fu">sum</span>(total_votos))</span>
<span id="cb42-5"><a href="#cb42-5"></a></span>
<span id="cb42-6"><a href="#cb42-6"></a>votos_porcentaje<span class="ot">&lt;-</span>votos_por_eleccion <span class="sc">|&gt;</span> </span>
<span id="cb42-7"><a href="#cb42-7"></a>  <span class="fu">left_join</span>(votos_totales, <span class="at">by =</span> <span class="st">"fecha"</span>)<span class="sc">|&gt;</span> </span>
<span id="cb42-8"><a href="#cb42-8"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>((total_votos <span class="sc">/</span> total_year_votes) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb42-9"><a href="#cb42-9"></a></span>
<span id="cb42-10"><a href="#cb42-10"></a>votos_reales<span class="ot">&lt;-</span>votos_porcentaje <span class="sc">|&gt;</span> <span class="fu">filter</span>(fecha<span class="sc">&gt;</span><span class="st">"2018-01-01"</span>)</span>
<span id="cb42-11"><a href="#cb42-11"></a></span>
<span id="cb42-12"><a href="#cb42-12"></a>votos_Join<span class="ot">&lt;-</span>votos_reales <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"fecha"</span>,<span class="st">"siglas"</span>,<span class="st">"percentage"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hacemos-el-join" class="slide level2">
<h2>Hacemos el JOIN</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Cambiar los nombres de las columnas para coincidir en ambos dataframes</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>encuestas <span class="ot">&lt;-</span>encuestas_Join <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"fecha"</span><span class="ot">=</span><span class="st">"date_elec"</span>,<span class="st">"estimado_encuesta"</span><span class="ot">=</span><span class="st">"estimado"</span>,<span class="st">"siglas"</span><span class="ot">=</span><span class="st">"partido"</span>)</span>
<span id="cb43-3"><a href="#cb43-3"></a>votos <span class="ot">&lt;-</span>votos_Join<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"porcentaje_real"</span><span class="ot">=</span><span class="st">"percentage"</span>)</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a></span>
<span id="cb43-6"><a href="#cb43-6"></a>votos<span class="sc">$</span>fecha[votos<span class="sc">$</span>fecha <span class="sc">==</span> <span class="st">"2019-04-01"</span>] <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2019-04-28"</span>)</span>
<span id="cb43-7"><a href="#cb43-7"></a>votos<span class="sc">$</span>fecha[votos<span class="sc">$</span>fecha <span class="sc">==</span> <span class="st">"2019-11-01"</span>] <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2019-11-10"</span>)</span>
<span id="cb43-8"><a href="#cb43-8"></a></span>
<span id="cb43-9"><a href="#cb43-9"></a><span class="co"># Unir los dataframes basándose en 'fecha' y 'siglas'</span></span>
<span id="cb43-10"><a href="#cb43-10"></a>comparacion <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(encuestas, votos, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"fecha"</span>, <span class="st">"siglas"</span>))</span>
<span id="cb43-11"><a href="#cb43-11"></a></span>
<span id="cb43-12"><a href="#cb43-12"></a>comparacion <span class="ot">&lt;-</span>comparacion <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">error=</span>porcentaje_real<span class="sc">-</span>estimado_encuesta) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(porcentaje_real))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>ecm <span class="ot">&lt;-</span> comparacion <span class="sc">|&gt;</span>  </span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">mutate</span>(<span class="at">Error_Cuadratico =</span> (estimado_encuesta <span class="sc">-</span> porcentaje_real)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">summarise</span>(<span class="at">ECM =</span> <span class="fu">mean</span>(Error_Cuadratico)) </span>
<span id="cb44-4"><a href="#cb44-4"></a></span>
<span id="cb44-5"><a href="#cb44-5"></a>error_medio<span class="ot">&lt;-</span><span class="fu">mean</span>(comparacion<span class="sc">$</span>error) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>comparacion</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,738 × 7
   fecha      siglas estimado_encuesta media     pollster porcentaje_real  error
   &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt;  &lt;dbl&gt;
 1 2019-04-28 PSOE                27.9 EL ESPAÑ… SOCIOMÉ…            27.4 -0.5  
 2 2019-04-28 PSOE                26.8 COPE      IMOP                27.4  0.600
 3 2019-04-28 PSOE                28.1 RTVE–FOR… GAD3                27.4 -0.700
 4 2019-04-28 PSOE                25.3 ELECTOMA… ELECTOP…            27.4  2.10 
 5 2019-04-28 PSOE                25.6 ELECTOMA… ELECTOP…            27.4  1.80 
 6 2019-04-28 PSOE                29.5 EL ESPAÑ… SOCIOMÉ…            27.4 -2.10 
 7 2019-04-28 PSOE                27.4 ELECTOMA… ELECTOP…            27.4  0    
 8 2019-04-28 PSOE                28.9 ELDIARIO… CELESTE…            27.4 -1.5  
 9 2019-04-28 PSOE                29.8 EL CONFI… IMOP                27.4 -2.40 
10 2019-04-28 PSOE                30   EL ESPAÑ… SOCIOMÉ…            27.4 -2.6  
# ℹ 3,728 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>ecm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
    ECM
  &lt;dbl&gt;
1  5.79</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>error_medio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.4477528</code></pre>
</div>
</div>
</section></section>
<section>
<section id="en-qué-elección-se-equivocaron-más-las-encuestas" class="title-slide slide level1 center">
<h1>¿En qué elección se equivocaron más las encuestas?</h1>

</section>
<section id="fecha-con-mas-error" class="slide level2">
<h2>Fecha con mas error</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>error_medio_absoluto_por_anno <span class="ot">&lt;-</span> comparacion <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">summarize</span>(<span class="at">Error_Medio_Absoluto =</span> <span class="fu">mean</span>(<span class="fu">abs</span>(error), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb51-4"><a href="#cb51-4"></a></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="co"># Encontrar el año con el mayor error medio absoluto</span></span>
<span id="cb51-6"><a href="#cb51-6"></a>anno_mayor_error_absoluto <span class="ot">&lt;-</span> error_medio_absoluto_por_anno <span class="sc">|&gt;</span> </span>
<span id="cb51-7"><a href="#cb51-7"></a>  <span class="fu">filter</span>(Error_Medio_Absoluto <span class="sc">==</span> <span class="fu">max</span>(Error_Medio_Absoluto))</span>
<span id="cb51-8"><a href="#cb51-8"></a><span class="co"># Mostrar el resultado</span></span>
<span id="cb51-9"><a href="#cb51-9"></a>anno_mayor_error_absoluto</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  fecha      Error_Medio_Absoluto
  &lt;date&gt;                    &lt;dbl&gt;
1 2019-11-10                 2.06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>error_medio_absoluto_por_anno</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  fecha      Error_Medio_Absoluto
  &lt;date&gt;                    &lt;dbl&gt;
1 2019-04-28                 1.48
2 2019-11-10                 2.06</code></pre>
</div>
</div>
</section></section>
<section>
<section id="cómo-se-equivocaron-las-encuestas-en-partidos-de-ámbito-nacional-psoe-pp-vox-cs-mp-up---iu" class="title-slide slide level1 center">
<h1>¿Cómo se equivocaron las encuestas en partidos de ámbito nacional (PSOE, PP, VOX, CS, MP, UP - IU)</h1>

</section>
<section id="section-4" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>partidos_nacionales <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PSOE"</span>, <span class="st">"PP"</span>, <span class="st">"VOX"</span>, <span class="st">"CS"</span>, <span class="st">"MPAIS"</span>, <span class="st">"UP"</span>)</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="co"># Filtrar los datos para estos partidos</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>comparacion_partidos_nacionales <span class="ot">&lt;-</span> comparacion <span class="sc">|&gt;</span> </span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="fu">filter</span>(siglas <span class="sc">%in%</span> partidos_nacionales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co"># Calcular el error medio para cada partido nacional</span></span>
<span id="cb56-2"><a href="#cb56-2"></a>error_medio_partidos_nacionales <span class="ot">&lt;-</span> comparacion_partidos_nacionales <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="fu">group_by</span>(siglas) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4"></a>  <span class="fu">summarize</span>(<span class="at">Error_Medio =</span> <span class="fu">mean</span>(error, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb56-5"><a href="#cb56-5"></a></span>
<span id="cb56-6"><a href="#cb56-6"></a>error_medio_partidos_nacionales_porfecha <span class="ot">&lt;-</span> comparacion_partidos_nacionales <span class="sc">|&gt;</span> </span>
<span id="cb56-7"><a href="#cb56-7"></a>  <span class="fu">group_by</span>(siglas,fecha) <span class="sc">|&gt;</span> </span>
<span id="cb56-8"><a href="#cb56-8"></a>  <span class="fu">summarize</span>(<span class="at">Error_Medio =</span> <span class="fu">mean</span>(error, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb56-9"><a href="#cb56-9"></a></span>
<span id="cb56-10"><a href="#cb56-10"></a></span>
<span id="cb56-11"><a href="#cb56-11"></a>error_medio_partidos_nacionales </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  siglas Error_Medio
  &lt;chr&gt;        &lt;dbl&gt;
1 CS          -0.651
2 MPAIS       -2.52 
3 PP          -2.85 
4 PSOE        -0.739
5 UP           0.837
6 VOX          0.418</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>error_medio_partidos_nacionales_porfecha</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 3
# Groups:   siglas [6]
   siglas fecha      Error_Medio
   &lt;chr&gt;  &lt;date&gt;           &lt;dbl&gt;
 1 CS     2019-04-28      0.192 
 2 CS     2019-11-10     -4.22  
 3 MPAIS  2019-11-10     -2.52  
 4 PP     2019-04-28     -3.64  
 5 PP     2019-11-10      0.525 
 6 PSOE   2019-04-28     -0.649 
 7 PSOE   2019-11-10     -1.12  
 8 UP     2019-04-28      1.04  
 9 UP     2019-11-10     -0.0159
10 VOX    2019-04-28     -0.572 
11 VOX    2019-11-10      4.60  </code></pre>
</div>
</div>
</section>
<section id="grafica" class="slide level2">
<h2>Grafica</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">ggplot</span>(comparacion, <span class="fu">aes</span>(<span class="at">x =</span> siglas, <span class="at">y =</span> error, <span class="at">fill =</span> siglas)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colores_partidos) <span class="sc">+</span> <span class="co"># Aplicar los colores definidos</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> error_medio) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Error Medio por Partido vs Error Medio Global"</span>,</span>
<span id="cb60-7"><a href="#cb60-7"></a>       <span class="at">x =</span> <span class="st">"Partido"</span>,</span>
<span id="cb60-8"><a href="#cb60-8"></a>       <span class="at">y =</span> <span class="st">"Error Medio"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section><section id="grafica-output" class="slide level2 output-location-slide"><h2>Grafica</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-33-1.png" width="960"></p>
</div>
</div></section></section>
<section>
<section id="qué-casas-encuestadores-acertaron-más-y-cuales-se-desviaron-más-de-los-resultados" class="title-slide slide level1 center">
<h1>¿Qué casas encuestadores acertaron más y cuales se desviaron más de los resultados?</h1>

</section>
<section id="casas-encuestadores" class="slide level2">
<h2>Casas encuestadores</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a> error_medio_por_medio_encuestadora<span class="ot">&lt;-</span>comparacion <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">group_by</span>(media) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3"></a>  <span class="fu">summarize</span>(<span class="at">Error_Medio =</span> <span class="fu">mean</span>(<span class="fu">abs</span>(error), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb61-4"><a href="#cb61-4"></a> </span>
<span id="cb61-5"><a href="#cb61-5"></a></span>
<span id="cb61-6"><a href="#cb61-6"></a>casa_erronea<span class="ot">&lt;-</span>error_medio_por_medio_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb61-7"><a href="#cb61-7"></a>  <span class="fu">filter</span>(Error_Medio <span class="sc">==</span> <span class="fu">max</span>(Error_Medio))</span>
<span id="cb61-8"><a href="#cb61-8"></a> </span>
<span id="cb61-9"><a href="#cb61-9"></a> </span>
<span id="cb61-10"><a href="#cb61-10"></a>casa_acertada<span class="ot">&lt;-</span>error_medio_por_medio_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb61-11"><a href="#cb61-11"></a>  <span class="fu">filter</span>(Error_Medio <span class="sc">==</span> <span class="fu">min</span>(Error_Medio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="casas-encuestadores-1" class="slide level2">
<h2>Casas encuestadores</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>casa_erronea</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  media    Error_Medio
  &lt;chr&gt;          &lt;dbl&gt;
1 LA SEXTA        5.76</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>casa_acertada</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  media               Error_Medio
  &lt;chr&gt;                     &lt;dbl&gt;
1 EL PERIÓDIC ANDORRA       0.807</code></pre>
</div>
</div>
</section>
<section id="grafico-la-sexta" class="slide level2">
<h2>Grafico La Sexta</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>comparacion_sexta<span class="ot">&lt;-</span>comparacion <span class="sc">|&gt;</span> <span class="fu">filter</span>(media<span class="sc">==</span><span class="st">"LA SEXTA"</span>)</span>
<span id="cb66-2"><a href="#cb66-2"></a></span>
<span id="cb66-3"><a href="#cb66-3"></a><span class="co">#Grafico de la sexta</span></span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="fu">ggplot</span>(comparacion_sexta, <span class="fu">aes</span>(<span class="at">x =</span> siglas, <span class="at">y =</span> error, <span class="at">fill =</span> siglas)) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb66-7"><a href="#cb66-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Error en los partidos segun La Sexta"</span>,</span>
<span id="cb66-8"><a href="#cb66-8"></a>       <span class="at">x =</span> <span class="st">"Partidos"</span>,</span>
<span id="cb66-9"><a href="#cb66-9"></a>       <span class="at">y =</span> <span class="st">"Error"</span>) <span class="sc">+</span></span>
<span id="cb66-10"><a href="#cb66-10"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colores_partidos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="grafico-la-sexta-output" class="slide level2 output-location-slide"><h2>Grafico La Sexta</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-36-1.png" width="960"></p>
</div>
</div></section><section id="grafico-el-periódic-andorra" class="slide level2">
<h2>Grafico EL PERIÓDIC ANDORRA</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>comparacion_andorra<span class="ot">&lt;-</span>comparacion <span class="sc">|&gt;</span> <span class="fu">filter</span>(media<span class="sc">==</span><span class="st">"EL PERIÓDIC ANDORRA"</span>)</span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="co">#Grafico de la sexta</span></span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="fu">ggplot</span>(comparacion_andorra, <span class="fu">aes</span>(<span class="at">x =</span> siglas, <span class="at">y =</span> error, <span class="at">fill =</span> siglas)) <span class="sc">+</span></span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb67-5"><a href="#cb67-5"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb67-6"><a href="#cb67-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Error en los partidos segun EL PERIÓDIC ANDORRA"</span>,</span>
<span id="cb67-7"><a href="#cb67-7"></a>       <span class="at">x =</span> <span class="st">"Partidos"</span>,</span>
<span id="cb67-8"><a href="#cb67-8"></a>       <span class="at">y =</span> <span class="st">"Error"</span>) <span class="sc">+</span></span>
<span id="cb67-9"><a href="#cb67-9"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colores_partidos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section><section id="grafico-el-periódic-andorra-output" class="slide level2 output-location-slide"><h2>Grafico EL PERIÓDIC ANDORRA</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-37-1.png" width="960"></p>
</div>
</div></section></section>
<section id="curiosidades" class="title-slide slide level1 center">
<h1>Curiosidades</h1>

</section>

<section>
<section id="quién-ganó-en-cada-comunidad-el-primer-año-de-registro" class="title-slide slide level1 center">
<h1>¿Quién ganó en cada comunidad el primer año de registro?</h1>

</section>
<section id="elecciones-2008" class="slide level2">
<h2>Elecciones 2008</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>primer_anno <span class="ot">&lt;-</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>  datos_elecciones_tidy <span class="sc">|&gt;</span></span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">filter</span>(anno <span class="sc">==</span> <span class="dv">2008</span>)</span>
<span id="cb68-4"><a href="#cb68-4"></a></span>
<span id="cb68-5"><a href="#cb68-5"></a>partido_ganador_comunidad <span class="ot">&lt;-</span></span>
<span id="cb68-6"><a href="#cb68-6"></a>  primer_anno <span class="sc">|&gt;</span></span>
<span id="cb68-7"><a href="#cb68-7"></a>  <span class="fu">arrange</span>(codigo_ccaa, <span class="fu">desc</span>(voto)) <span class="sc">|&gt;</span></span>
<span id="cb68-8"><a href="#cb68-8"></a>  <span class="fu">group_by</span>(codigo_ccaa) <span class="sc">|&gt;</span></span>
<span id="cb68-9"><a href="#cb68-9"></a>  <span class="fu">slice_head</span>(<span class="at">n=</span><span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb68-10"><a href="#cb68-10"></a>  <span class="fu">select</span>(anno, codigo_ccaa, siglas, voto)</span>
<span id="cb68-11"><a href="#cb68-11"></a></span>
<span id="cb68-12"><a href="#cb68-12"></a>partido_ganador_comunidad</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 4
# Groups:   codigo_ccaa [19]
    anno codigo_ccaa siglas   voto
   &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;dbl&gt;
 1  2008 01          PSOE   209515
 2  2008 02          PSOE   173636
 3  2008 03          PSOE    82478
 4  2008 04          PP      78133
 5  2008 05          PSOE    92509
 6  2008 06          PP      58821
 7  2008 07          PP      49909
 8  2008 08          PP     102196
 9  2008 09          PSOE   356264
10  2008 10          PP      43205
11  2008 11          PSOE    78065
12  2008 12          PP     919701
13  2008 13          PP      44032
14  2008 14          OTROS   72055
15  2008 15          PP     154711
16  2008 16          PP      41716
17  2008 17          PP     246911
18  2008 18          PP      19902
19  2008 19          PP      15510</code></pre>
</div>
</div>
</section>
<section id="grafico" class="slide level2">
<h2>Grafico</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>anno_2008 <span class="ot">&lt;-</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>  partido_ganador_comunidad <span class="sc">|&gt;</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="fu">filter</span>(anno <span class="sc">==</span> <span class="dv">2008</span>) <span class="sc">|&gt;</span></span>
<span id="cb70-4"><a href="#cb70-4"></a>  <span class="fu">group_by</span>(siglas) <span class="sc">|&gt;</span></span>
<span id="cb70-5"><a href="#cb70-5"></a>  <span class="fu">summarise</span>(<span class="at">total_votos_sigla =</span> <span class="fu">sum</span>(voto)) <span class="sc">|&gt;</span></span>
<span id="cb70-6"><a href="#cb70-6"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje_2008 =</span> (total_votos_sigla <span class="sc">/</span> <span class="fu">sum</span>(total_votos_sigla))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb70-7"><a href="#cb70-7"></a></span>
<span id="cb70-8"><a href="#cb70-8"></a>colores_siglas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#EFF30B"</span>,<span class="st">"#1079C1"</span>, <span class="st">"#F3300B"</span>)</span>
<span id="cb70-9"><a href="#cb70-9"></a></span>
<span id="cb70-10"><a href="#cb70-10"></a><span class="fu">ggplot</span>(anno_2008, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> porcentaje_2008, <span class="at">fill =</span> siglas)) <span class="sc">+</span></span>
<span id="cb70-11"><a href="#cb70-11"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb70-12"><a href="#cb70-12"></a>   <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colores_siglas) <span class="sc">+</span></span>
<span id="cb70-13"><a href="#cb70-13"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb70-14"><a href="#cb70-14"></a>  <span class="fu">ggtitle</span>(<span class="st">"Porcentaje de Votos por Siglas"</span>) <span class="sc">+</span></span>
<span id="cb70-15"><a href="#cb70-15"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section><section id="grafico-output" class="slide level2 output-location-slide"><h2>Grafico</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</div>
</div></section></section>
<section>
<section id="en-qué-municipios-han-ganado-los-partidos-autonomicos" class="title-slide slide level1 center">
<h1><strong>¿En qué municipios han ganado los partidos Autonomicos?</strong></h1>

</section>
<section id="dejamos-los-partidos-autonomicos" class="slide level2">
<h2>Dejamos los partidos autonomicos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>partidos_autonomicos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BNG"</span>, <span class="st">"PNV"</span>, <span class="st">"ERC"</span>, <span class="st">"COMPROMIS"</span>, <span class="st">"EH-BILDU"</span>)</span>
<span id="cb71-2"><a href="#cb71-2"></a></span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="co"># Filtramos los datos de los partidos autonomicos</span></span>
<span id="cb71-4"><a href="#cb71-4"></a>ganador_auotonomicos <span class="ot">&lt;-</span> mas_votado <span class="sc">|&gt;</span> </span>
<span id="cb71-5"><a href="#cb71-5"></a>  <span class="fu">filter</span>(siglas <span class="sc">%in%</span> partidos_autonomicos)  </span>
<span id="cb71-6"><a href="#cb71-6"></a></span>
<span id="cb71-7"><a href="#cb71-7"></a>municipios_autonomicos <span class="ot">&lt;-</span> <span class="fu">left_join</span>(ganador_auotonomicos, cod_mun, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_mun"</span> <span class="ot">=</span> <span class="st">"cod_mun"</span>))</span>
<span id="cb71-8"><a href="#cb71-8"></a></span>
<span id="cb71-9"><a href="#cb71-9"></a>municipios_autonomicos <span class="sc">|&gt;</span> <span class="fu">select</span>(anno,municipio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,830 × 4
# Groups:   siglas, anno, id_mun [8,830]
   siglas id_mun     anno municipio
   &lt;chr&gt;  &lt;glue&gt;    &lt;dbl&gt; &lt;chr&gt;    
 1 BNG    11-15-001  2008 Abegondo 
 2 BNG    11-15-002  2008 Ames     
 3 BNG    11-15-003  2008 Aranga   
 4 BNG    11-15-004  2008 Ares     
 5 BNG    11-15-005  2008 Arteixo  
 6 BNG    11-15-006  2008 Arzúa    
 7 BNG    11-15-007  2008 Baña, A  
 8 BNG    11-15-008  2008 Bergondo 
 9 BNG    11-15-009  2008 Betanzos 
10 BNG    11-15-010  2008 Boimorto 
# ℹ 8,820 more rows</code></pre>
</div>
</div>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>Nacionalismos <span class="ot">&lt;-</span> ganador_auotonomicos <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2"></a>  <span class="fu">mutate</span>(<span class="at">Grupo =</span> <span class="fu">case_when</span>(</span>
<span id="cb73-3"><a href="#cb73-3"></a>    siglas <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"COMPROMIS"</span>, <span class="st">"ERC"</span>, <span class="st">"CIU"</span>) <span class="sc">~</span> <span class="st">"Catalan"</span>,</span>
<span id="cb73-4"><a href="#cb73-4"></a>    siglas <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PNV"</span>, <span class="st">"EH-BILDU"</span>) <span class="sc">~</span> <span class="st">"Vasco"</span>,</span>
<span id="cb73-5"><a href="#cb73-5"></a>    siglas <span class="sc">==</span> <span class="st">"BNG"</span> <span class="sc">~</span> <span class="st">"Gallego"</span>,</span>
<span id="cb73-6"><a href="#cb73-6"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb73-7"><a href="#cb73-7"></a>  ))</span>
<span id="cb73-8"><a href="#cb73-8"></a></span>
<span id="cb73-9"><a href="#cb73-9"></a>Nacionalismos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,830 × 6
# Groups:   siglas, anno, id_mun [8,830]
   id_mun     anno censo siglas  voto Grupo  
   &lt;glue&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  
 1 11-15-001  2008  5152 BNG      477 Gallego
 2 11-15-002  2008 19193 BNG     1969 Gallego
 3 11-15-003  2008  2025 BNG      164 Gallego
 4 11-15-004  2008  4762 BNG      447 Gallego
 5 11-15-005  2008 22681 BNG     1978 Gallego
 6 11-15-006  2008  5668 BNG      800 Gallego
 7 11-15-007  2008  4161 BNG      330 Gallego
 8 11-15-008  2008  5652 BNG      435 Gallego
 9 11-15-009  2008 11115 BNG      808 Gallego
10 11-15-010  2008  2106 BNG      180 Gallego
# ℹ 8,820 more rows</code></pre>
</div>
</div>
</section>
<section id="grafico-1" class="slide level2">
<h2>Grafico</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>municipalities_count <span class="ot">&lt;-</span> Nacionalismos <span class="sc">|&gt;</span> </span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">group_by</span>(Grupo) <span class="sc">|&gt;</span> </span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n_distinct</span>(id_mun))</span>
<span id="cb75-4"><a href="#cb75-4"></a></span>
<span id="cb75-5"><a href="#cb75-5"></a><span class="fu">ggplot</span>(municipalities_count, <span class="fu">aes</span>(<span class="at">x =</span> Grupo, <span class="at">y =</span> Count, <span class="at">fill =</span> Grupo)) <span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb75-7"><a href="#cb75-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb75-8"><a href="#cb75-8"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Numero de Municipios por nacionalismo"</span>,</span>
<span id="cb75-9"><a href="#cb75-9"></a>       <span class="at">x =</span> <span class="st">"Grupo"</span>,</span>
<span id="cb75-10"><a href="#cb75-10"></a>       <span class="at">y =</span> <span class="st">"Nacionalismo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="footer footer-default">

</div>
</section><section id="grafico-1-output" class="slide level2 output-location-slide"><h2>Grafico</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="entrega-grupal-Amalia-Carlos_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></p>
</div>
</div></section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="entrega-grupal-Amalia-Carlos_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>